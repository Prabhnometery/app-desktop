(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{899:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),styled_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9),_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),aws_amplify__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(109),_lib_contextLib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(130),react_router_dom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2138),_lib_i18n__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(30),_blend_ui_toast__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(300),_blend_ui_progress__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(291);function _templateObject2(){var data=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__.a)(["\n  width: 850px;\n  z-index: 3;\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-top: 192px;\n  z-index: 3;\n"]);return _templateObject=function _templateObject(){return data},data}_lib_i18n__WEBPACK_IMPORTED_MODULE_11__.a.init();var StyledBox=Object(styled_components__WEBPACK_IMPORTED_MODULE_6__.default)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box)(_templateObject()),LoaderBox=Object(styled_components__WEBPACK_IMPORTED_MODULE_6__.default)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box)(_templateObject2()),FinalizingAccount=function FinalizingAccount(_ref){var currentUser=_ref.currentUser,history=(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.a)(_ref,["currentUser"]),Object(react_router_dom__WEBPACK_IMPORTED_MODULE_10__.a)()),_useAppContext=Object(_lib_contextLib__WEBPACK_IMPORTED_MODULE_9__.d)(),AUTHConfig=_useAppContext.AUTHConfig;_useAppContext.userAuth;aws_amplify__WEBPACK_IMPORTED_MODULE_8__.a.configure(AUTHConfig);var alerts=Object(_blend_ui_toast__WEBPACK_IMPORTED_MODULE_12__.useToast)();return console.log("FIN ",currentUser),Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){function _onLoad(){return(_onLoad=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(){var abortController,_newUser,_yield$Auth$signUp,user;return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_28_10_55_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return abortController=new AbortController,_context.prev=1,_newUser={username:currentUser.uuid,password:currentUser.accountPassword.value,attributes:{email:currentUser.emailVerified,phone_number:currentUser.phoneVerified,family_name:currentUser.lastName.value,given_name:currentUser.firstName.value,name:currentUser.username.value}},console.log("Creating... ",_newUser),_context.next=6,aws_amplify__WEBPACK_IMPORTED_MODULE_8__.a.signUp(_newUser);case 6:_yield$Auth$signUp=_context.sent,user=_yield$Auth$signUp.user,console.log(user),history.replace("/login"),_context.next=16;break;case 12:_context.prev=12,_context.t0=_context.catch(1),console.log("ERR ",_context.t0),"AuthError"!==_context.t0.code&&"UsernameExistsException"!==_context.t0.code||alerts.error(_lib_i18n__WEBPACK_IMPORTED_MODULE_11__.a.__("usernameExists"),{});case 16:return _context.abrupt("return",(function(){abortController.abort()}));case 17:case"end":return _context.stop()}}),_callee,null,[[1,12]])})))).apply(this,arguments)}!function onLoad(){return _onLoad.apply(this,arguments)}()}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledBox,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(LoaderBox,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Text,{as:"h1",textAlign:"center",children:"This process may take a few secords"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Flex,{justifyContent:"center",mt:131,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_progress__WEBPACK_IMPORTED_MODULE_13__.DotLoader,{})})]})})};FinalizingAccount.__docgenInfo={description:"",methods:[],displayName:"FinalizingAccount",props:{currentUser:{type:{name:"object"},required:!0,description:""}}},__webpack_exports__.default=FinalizingAccount,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/FinalizingAccount.js"]={name:"FinalizingAccount",docgenInfo:FinalizingAccount.__docgenInfo,path:"src/pages/FinalizingAccount.js"})}}]);
//# sourceMappingURL=9.377c45136cac5a8ca043.bundle.js.map