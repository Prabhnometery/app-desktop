(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{2142:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ForwardRef}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var _ref2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M0 6C0 2.68629 2.68629 0 6 0H60C64.4183 0 68 3.58172 68 8V129C68 132.314 65.3137 135 62 135H8C3.58172 135 0 131.418 0 127V6Z",fill:"#01544E"}),_ref3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{width:66,height:133,rx:5,fill:"#00847A"}),_ref4=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:2,y:6,width:62,height:116,rx:5,fill:"#F5F8F7"}),_ref5=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:24,y:125,width:18,height:5,rx:2.5,fill:"#F5F8F7"}),_ref6=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:24,y:3,width:18,height:1,rx:.5,fill:"#F5F8F7"}),_ref7=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 49V58H42.3809C40.015 60.4653 36.6867 62 33 62C29.3133 62 25.985 60.4653 23.6191 58H20V49C20 41.8203 25.8203 36 33 36C40.1797 36 46 41.8203 46 49Z",fill:"#01544E"}),_ref8=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 49C42 44.0294 37.9706 40 33 40C28.0294 40 24 44.0294 24 49V58H33H42V49Z",fill:"#F5F8F7"}),_ref9=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:14,y:58,width:38,height:34,rx:3,fill:"#00847A"}),_ref10=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 74.2361C35.6137 73.6868 36 72.8885 36 72C36 70.3431 34.6569 69 33 69C31.3431 69 30 70.3431 30 72C30 72.8885 30.3863 73.6868 31 74.2361V80C31 81.1046 31.8954 82 33 82C34.1046 82 35 81.1046 35 80V74.2361Z",fill:"#01544E"});function SvgPhone(_ref,svgRef){var title=_ref.title,titleId=_ref.titleId,props=_objectWithoutProperties(_ref,["title","titleId"]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:68,height:135,viewBox:"0 0 68 135",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:svgRef,"aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9,_ref10)}var ForwardRef=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(SvgPhone);__webpack_require__.p},879:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(109),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(553),_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7__),_svgr_webpack_svgo_titleProp_ref_assets_phone_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2142),_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(551),_lib_formFields__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(240),_lib_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(188),_lib_componentUtils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(239),react_router_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2141),_blend_ui_toast__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(295),_lib_i18n__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(33);_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.init();var ConfirmAuth=function ConfirmAuth(_ref){var backButton=_ref.backButton,authOptions=_ref.authOptions,history=(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__.a)(_ref,["backButton","authOptions"]),Object(react_router_dom__WEBPACK_IMPORTED_MODULE_13__.a)()),alerts=Object(_blend_ui_toast__WEBPACK_IMPORTED_MODULE_14__.useToast)(),appDebug="true"===Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_DEBUG&&"?debug=true"===history.location.search;console.log("APP DEBUG ",appDebug);var _useFormFields=Object(_lib_formFields__WEBPACK_IMPORTED_MODULE_10__.a)({confirmationCode:""}),_useFormFields2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useFormFields,2),confirmationFields=_useFormFields2[0],handleChange=_useFormFields2[1],_useFocus=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_12__.a)(),_useFocus2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useFocus,2),inputCode=_useFocus2[0],_useState=(_useFocus2[1],Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({status:!1,msg:""})),_useState2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState,2),inputError=_useState2[0],setInputError=_useState2[1],confirmClick=function(){var _ref2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(e){var loggedUser,mfa,errorMsg;return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,authOptions.Auth.confirmSignIn(authOptions.user,confirmationFields.confirmationCode,"SMS_MFA");case 3:if(loggedUser=_context.sent,console.log("CONFIRM ",loggedUser),!appDebug){_context.next=10;break}return _context.next=8,authOptions.Auth.setPreferredMFA(loggedUser,"NOMFA");case 8:mfa=_context.sent,console.log("MFA ",mfa);case 10:history.replace("/home"),authOptions.setAuth(!0),_context.next=18;break;case 14:_context.prev=14,_context.t0=_context.catch(0),console.log("ERR",_context.t0),"CodeMismatchException"===_context.t0.code&&(setInputError({status:!0,msg:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("invalidCode")}),errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("invalidCode"),alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}));case 18:case"end":return _context.stop()}}),_callee,null,[[0,14]])})));return function confirmClick(_x){return _ref2.apply(this,arguments)}}();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_9__.a,{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("confirmTitle"),progress:100,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:47,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{display:"inline-flex",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_svgr_webpack_svgo_titleProp_ref_assets_phone_svg__WEBPACK_IMPORTED_MODULE_8__.a,{height:"135px",width:"68px"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{ml:48,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"h6",children:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("authConfirmTitle")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:5,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"caption2",as:"p",m:0,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("authConfirmationText")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:15,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField,{width:"200px",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField.LeftIcon,{iconify:_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7___default.a,color:"componentPrimary",size:"17"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField.InputField,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("codePropmt"),id:"confirmationCode",name:"confirmationCode",onChange:handleChange,onKeyDown:function onKeyDown(e){"Enter"===e.key&&function checkInput(code){var validCode=!0;if(!Object(_lib_utils__WEBPACK_IMPORTED_MODULE_11__.i)(code)){setInputError({status:!0,msg:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("codeDigitsError")});var errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("codeDigitsError");alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}),validCode=!1}if(code.length>1&&6!==code.length){setInputError({status:!0,msg:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("codeLengthError")});var _errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("codeLengthError");alerts.check().some((function(alert){return alert.message===_errorMsg}))||alerts.error(_errorMsg,{}),validCode=!1}validCode&&setInputError({status:!1,msg:""})}(confirmationFields.confirmationCode)},ref:inputCode})]})})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:inputError.status?83:84,display:"inline-flex",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Flex,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{variation:"outline",onClick:backButton,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("backButton")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Flex,{ml:99,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{disabled:inputError.status||6!==confirmationFields.confirmationCode.length,onClick:confirmClick,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_15__.a.__("confirmButton")})})]})]})};ConfirmAuth.__docgenInfo={description:"",methods:[],displayName:"ConfirmAuth"},__webpack_exports__.default=ConfirmAuth,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/ConfirmAuth.js"]={name:"ConfirmAuth",docgenInfo:ConfirmAuth.__docgenInfo,path:"src/pages/ConfirmAuth.js"})}}]);
//# sourceMappingURL=14.671f35295497b2c32e3d.bundle.js.map