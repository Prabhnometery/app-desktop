(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{2146:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(67),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(146),_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_lib_i18n__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33);_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.init();var DeclineDialog=function DeclineDialog(_ref){var onClose=_ref.onClose,onButtonClick=_ref.onButtonClick,props=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.a)(_ref,["onClose","onButtonClick"]),theme=Object(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.useTheme)(),_useState=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(!0),_useState2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState,2),dialogOpen=_useState2[0],setDialogOpen=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.Modal,Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({isOpen:dialogOpen,closeOnEsc:!1,closeOnOutsideClick:!1,onClose:function onCloseCheck(e,action){console.log("MODAL CLOSE ",e,action),onClose(e,action),e.preventDefault()},scrollBehavior:"inside",theme:theme,size:"566px"},props),{},{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.ModalContent,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.ModalHeader,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"h5",color:theme.colors.baseError,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.__("declineTitle")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.ModalBody,{ml:55,mr:55,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"body",as:"p",textAlign:"center",children:_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.__("declineText")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.ModalFooter,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{textAlign:"center",width:1,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{variation:"outline",colorStyle:"error",onClick:function onClick(e){setDialogOpen(!1),onButtonClick(e,"cancel"),e.preventDefault()},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.__("cancelButton")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{ml:20,onClick:function onClick(e){setDialogOpen(!1),onButtonClick(e,"decline"),e.preventDefault()},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.__("declineButton")})]})})]})}))})};DeclineDialog.__docgenInfo={description:"",methods:[],displayName:"DeclineDialog"},__webpack_exports__.a=DeclineDialog,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DeclineDialog.js"]={name:"DeclineDialog",docgenInfo:DeclineDialog.__docgenInfo,path:"src/components/DeclineDialog.js"})},900:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(109),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(97),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),_lib_contextLib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(165),aws_amplify__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(131),uuid__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(711),_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(551),_components_DeclineDialog__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2146),styled_components__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(26),_lib_i18n__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(33);function _templateObject(){var data=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__.a)(["\n  scrollbar-width: 4px;\n  scrollbar-color: ","\n    ",";\n\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-scrollbar:vertical {\n    width: 4px;\n    height: 77px;\n  }\n\n  ::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background-color: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    height: 77px;\n    background-color: ",";\n  }\n  ::-webkit-scrollbar-thumb:vertical {\n    height: 77px;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.init();var StyledBox=Object(styled_components__WEBPACK_IMPORTED_MODULE_13__.default)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box)(_templateObject(),(function(props){return props.colors?props.colors.baseSecondary:"#00847A"}),(function(props){return props.colors?props.colors.baseTertiary:"rgba(0, 132, 122, 0.1)"}),(function(props){return props.colors?props.colors.baseTertiary:"rgba(0, 132, 122, 0.1)"}),(function(props){return props.colors?props.colors.baseSecondary:"#00847A"})),texts=[{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("agreeementTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("agreementText")},{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("serviceTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("serviceText")},{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("accountsTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("accountsText")},{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("dataTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("dataText")},{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("materialsTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("materialsText")}],TermsOfUse=function TermsOfUse(_ref){var nextStep=_ref.nextStep,fields=_ref.fields,props=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__.a)(_ref,["nextStep","fields"]);console.log("Terms ",props);var AUTHConfig=Object(_lib_contextLib__WEBPACK_IMPORTED_MODULE_8__.d)().AUTHConfig;aws_amplify__WEBPACK_IMPORTED_MODULE_9__.a.configure(AUTHConfig);var colors=Object(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.useTheme)().colors,_useState=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(!1),_useState2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState,2),scrolled=_useState2[0],setScrolled=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(!1),_useState4=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState3,2),decline=_useState4[0],setDecline=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(!1),_useState6=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState5,2),isActive=_useState6[0],setActive=_useState6[1],approveTerms=function(){var _ref2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(e){var uuid,phoneNumber,_yield$Auth$signUp,user,session;return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setActive(!0),uuid=Object(uuid__WEBPACK_IMPORTED_MODULE_10__.a)(),_context.prev=2,(phoneNumber=fields.phone.value).startsWith("0")&&(phoneNumber=phoneNumber.substr(1)),_context.next=7,aws_amplify__WEBPACK_IMPORTED_MODULE_9__.a.signUp({username:uuid,password:fields.password.value,attributes:{email:fields.email.value,phone_number:fields.regionCode+phoneNumber,family_name:fields.lastName.value,given_name:fields.firstName.value,preferred_username:fields.username.value}});case 7:return _yield$Auth$signUp=_context.sent,user=_yield$Auth$signUp.user,console.log(user),_context.next=12,aws_amplify__WEBPACK_IMPORTED_MODULE_9__.a.signIn(fields.username.value,fields.password.value);case 12:return _context.sent,_context.next=15,aws_amplify__WEBPACK_IMPORTED_MODULE_9__.a.currentSession();case 15:session=_context.sent,nextStep(2,session),_context.next=22;break;case 19:_context.prev=19,_context.t0=_context.catch(2),console.log("error signing up:",_context.t0);case 22:case"end":return _context.stop()}}),_callee,null,[[2,19]])})));return function approveTerms(_x){return _ref2.apply(this,arguments)}}();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,{children:[decline&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_DeclineDialog__WEBPACK_IMPORTED_MODULE_12__.a,{onClose:function onDialogClose(e,action){console.log("CLOSE ",e,action),setDecline(!1),e.preventDefault()},onButtonClick:function onDialogClick(e,action){console.log("BUTTON ",e,action),setDecline(!1),"decline"===action&&nextStep(1),e.preventDefault()}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_11__.a,{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("termsTitle"),progress:66,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{textAlign:"center",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Text,{textStyle:"caption",bold:!0,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("termsLastUpdated")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:22,height:313,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledBox,{height:"100%",colors:colors,onScroll:function _handleScroll(e){e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight&&setScrolled(!0)},children:texts.map((function(t,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Text,{textStyle:"caption",bold:!0,children:t.title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Text,{as:"p",textStyle:"caption",children:t.text})]},"text-"+i)}))})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:63,display:isActive?"block":"inline-flex",children:[!isActive&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Flex,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Button,{variation:"outline",colorStyle:"error",onClick:function declineTerms(e){setDecline(!0),e.preventDefault()},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("declineButton")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Flex,{ml:99,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Button,{disabled:!scrolled,onClick:approveTerms,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("approveButton")})})]}),isActive&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{textAlign:"center",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Button,{disabled:!0,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_14__.a.__("accountButton")})})]})]})]})};TermsOfUse.__docgenInfo={description:"",methods:[],displayName:"TermsOfUse"},__webpack_exports__.default=TermsOfUse,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/TermsOfUse copy 2.js"]={name:"TermsOfUse",docgenInfo:TermsOfUse.__docgenInfo,path:"src/pages/TermsOfUse copy 2.js"})}}]);
//# sourceMappingURL=17.671f35295497b2c32e3d.bundle.js.map