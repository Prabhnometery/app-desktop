(window.webpackJsonp=window.webpackJsonp||[]).push([[0,13,16,20],{2142:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ForwardRef}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var _ref2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M0 6C0 2.68629 2.68629 0 6 0H60C64.4183 0 68 3.58172 68 8V129C68 132.314 65.3137 135 62 135H8C3.58172 135 0 131.418 0 127V6Z",fill:"#01544E"}),_ref3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{width:66,height:133,rx:5,fill:"#00847A"}),_ref4=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:2,y:6,width:62,height:116,rx:5,fill:"#F5F8F7"}),_ref5=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:24,y:125,width:18,height:5,rx:2.5,fill:"#F5F8F7"}),_ref6=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:24,y:3,width:18,height:1,rx:.5,fill:"#F5F8F7"}),_ref7=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 49V58H42.3809C40.015 60.4653 36.6867 62 33 62C29.3133 62 25.985 60.4653 23.6191 58H20V49C20 41.8203 25.8203 36 33 36C40.1797 36 46 41.8203 46 49Z",fill:"#01544E"}),_ref8=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 49C42 44.0294 37.9706 40 33 40C28.0294 40 24 44.0294 24 49V58H33H42V49Z",fill:"#F5F8F7"}),_ref9=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:14,y:58,width:38,height:34,rx:3,fill:"#00847A"}),_ref10=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 74.2361C35.6137 73.6868 36 72.8885 36 72C36 70.3431 34.6569 69 33 69C31.3431 69 30 70.3431 30 72C30 72.8885 30.3863 73.6868 31 74.2361V80C31 81.1046 31.8954 82 33 82C34.1046 82 35 81.1046 35 80V74.2361Z",fill:"#01544E"});function SvgPhone(_ref,svgRef){var title=_ref.title,titleId=_ref.titleId,props=_objectWithoutProperties(_ref,["title","titleId"]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:68,height:135,viewBox:"0 0 68 135",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:svgRef,"aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9,_ref10)}var ForwardRef=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(SvgPhone);__webpack_require__.p},2143:function(module,exports){exports.__esModule=!0,exports.default={body:'<path d="M20 4H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm0 2v.511l-8 6.223l-8-6.222V6h16zM4 18V9.044l7.386 5.745a.994.994 0 0 0 1.228 0L20 9.044L20.002 18H4z" fill="currentColor"/>',width:24,height:24}},2144:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(67),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(97),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_iconify_icons_bx_bx_phone__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2145),_iconify_icons_bx_bx_phone__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_iconify_icons_bx_bx_phone__WEBPACK_IMPORTED_MODULE_6__),_blend_ui_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(166),styled_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(26),styled_system__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(44),_reach_auto_id__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(241);function _templateObject2(){var data=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__.a)(["\n  flex: none;\n  align-self: center;\n  pointer-events: none;\n  position: relative;\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__.a)(["\n  ","\n  display: flex;\n  height: ",";\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n\n  &:focus,\n  &:not([disabled]):hover {\n    outline: none;\n    -webkit-box-shadow: none;\n    box-shadow: none;\n    border: ",";\n  }\n  /*\n  &:disabled {\n    background: ",";\n    border: ",";\n    pointer-events: none;\n  }\n  \n  &:invalid {\n    outline: none;\n    -webkit-box-shadow: none;\n    box-shadow: none;\n    border: props.theme.borders.input.error};\n  }\n  */\n"]);return _templateObject=function _templateObject(){return data},data}var StyledBox=Object(styled_components__WEBPACK_IMPORTED_MODULE_8__.default)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.Box)(_templateObject(),styled_system__WEBPACK_IMPORTED_MODULE_9__.space,(function(props){return props.height?props.height:props.theme.componentStyles.input.base.height}),(function(props){return props.disabled?props.theme.colors.text.muted:props.theme.componentStyles.input.base.backgroundColor||"transparent"}),(function(props){return void 0!==props.borders?props.borders:props.errorinput?props.theme.borders.input.error:props.theme.componentStyles.input.base.border}),(function(props){return void 0!==props.borderRadius?props.borderRadius:props.theme.componentStyles.input.base.borderRadius}),(function(props){return props.theme.borders.input.active}),(function(props){return props.theme.colors.text.muted}),(function(props){return props.theme.borders.input.disabled})),InputContext=Object(react__WEBPACK_IMPORTED_MODULE_4__.createContext)(),useInputContext=function useInputContext(){return Object(react__WEBPACK_IMPORTED_MODULE_4__.useContext)(InputContext)},PhoneNumberField=function PhoneNumberField(_ref){var children=_ref.children,disabled=_ref.disabled,id=_ref.id,isIcon=(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref,["children","disabled","id"]),function isIcon(item){return item.type.isIcon||item.type.isIconButton}),colors=Object(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.useTheme)().colors,uuid=Object(_reach_auto_id__WEBPACK_IMPORTED_MODULE_10__.useId)(),_id=id||uuid,formatIds=function formatIds(id){return{select:"search-".concat(id,"-select"),input:"search-".concat(id,"-input")}},selectId=formatIds(_id).select,inputId=formatIds(_id).input,inputError=!1,errorMsg="",promptMsg="";react__WEBPACK_IMPORTED_MODULE_4___default.a.Children.toArray(children).forEach((function(child,i){isIcon(child)||inputError||(inputError=child.props.error||!1),!isIcon(child)&&child.props.errorMsg&&(errorMsg=child.props.errorMsg),!isIcon(child)&&child.props.promptMsg&&(promptMsg=child.props.promptMsg)}));var boxRef=Object(react__WEBPACK_IMPORTED_MODULE_4__.createRef)();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(InputContext.Provider,{value:{disabled:disabled,inputError:inputError,inputId:inputId,selectId:selectId,boxRef:boxRef},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(StyledBox,{disabled:disabled||null,errorinput:inputError?1:void 0,ref:boxRef,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LeftIcon,{iconify:_iconify_icons_bx_bx_phone__WEBPACK_IMPORTED_MODULE_6___default.a,color:"componentPrimary",size:"17"}),children]}),""!==errorMsg&&inputError&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.Box,{mt:0,mb:10,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.Text,{textStyle:"caption2",color:colors.baseError,children:errorMsg})}),""!==promptMsg&&!inputError&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.Box,{mt:0,mb:10,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.Text,{textStyle:"caption2",color:colors.baseSecondary,children:promptMsg})})]})},SelectField=Object(react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)((function(_ref2,ref){var options=_ref2.options,defaultValue=_ref2.defaultValue,_ref2$searchLength=_ref2.searchLength,searchLength=void 0===_ref2$searchLength?3:_ref2$searchLength,_ref2$showList=_ref2.showList,showList=void 0!==_ref2$showList&&_ref2$showList,_ref2$selectOption=_ref2.selectOption,selectOption=void 0===_ref2$selectOption?"key":_ref2$selectOption,props=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref2,["options","defaultValue","searchLength","showList","selectOption"]),_useInputContext=useInputContext(),selectId=_useInputContext.selectId,boxRef=_useInputContext.boxRef;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.SearchSelect,Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({id:selectId,name:selectId,defaultValue:defaultValue,options:options,showList:showList,searchLength:searchLength,size:"sm",width:"60px",selectOption:selectOption,containerRef:boxRef,containerOffset:"-38px",ref:ref},props))})),InputField=Object(react__WEBPACK_IMPORTED_MODULE_4__.forwardRef)((function(_ref3,ref){_ref3.children,_ref3.errorMsg,_ref3.promptMsg;var props=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.a)(_ref3,["children","errorMsg","promptMsg"]),_useInputContext2=useInputContext(),disabled=_useInputContext2.disabled,inputId=_useInputContext2.inputId,theme=Object(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.useTheme)();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.Input,Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({id:inputId,name:inputId,ref:ref,isIcon:!0,borders:0,disabled:disabled||null},props),{},{paddingLeft:theme.sizeOptions[10],paddingRight:theme.sizeOptions[10]}))})),LeftIcon=Object(styled_components__WEBPACK_IMPORTED_MODULE_8__.default)((function(props){var _useInputContext3=useInputContext(),disabled=_useInputContext3.disabled,inputError=_useInputContext3.inputError,theme=Object(_blend_ui_core__WEBPACK_IMPORTED_MODULE_5__.useTheme)();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_icons__WEBPACK_IMPORTED_MODULE_7__.BlendIcon,Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},props),{},{fill:disabled?theme.colors.baseMuted:"transparent",color:inputError?theme.colors.baseError:props.color||theme.colors.baseSecondary,theme:theme,style:{marginLeft:theme.sizeOptions[10],marginRight:theme.sizeOptions[10]}}))}))(_templateObject2());InputField.displayName="PhoneNumberInputField",PhoneNumberField.InputField=InputField,SelectField.displayName="PhoneNumberRegionField",PhoneNumberField.RegionField=SelectField,PhoneNumberField.__docgenInfo={description:"",methods:[],displayName:"PhoneNumberField"},__webpack_exports__.a=PhoneNumberField,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PhoneNumberField.js"]={name:"PhoneNumberField",docgenInfo:PhoneNumberField.__docgenInfo,path:"src/components/PhoneNumberField.js"})},2145:function(module,exports){exports.__esModule=!0,exports.default={body:'<path d="M17.707 12.293a.999.999 0 0 0-1.414 0l-1.594 1.594c-.739-.22-2.118-.72-2.992-1.594s-1.374-2.253-1.594-2.992l1.594-1.594a.999.999 0 0 0 0-1.414l-4-4a.999.999 0 0 0-1.414 0L3.581 5.005c-.38.38-.594.902-.586 1.435c.023 1.424.4 6.37 4.298 10.268s8.844 4.274 10.269 4.298h.028c.528 0 1.027-.208 1.405-.586l2.712-2.712a.999.999 0 0 0 0-1.414l-4-4.001zm-.127 6.712c-1.248-.021-5.518-.356-8.873-3.712c-3.366-3.366-3.692-7.651-3.712-8.874L7 4.414L9.586 7L8.293 8.293a1 1 0 0 0-.272.912c.024.115.611 2.842 2.271 4.502s4.387 2.247 4.502 2.271a.991.991 0 0 0 .912-.271L17 14.414L19.586 17l-2.006 2.005z" fill="currentColor"/>',width:24,height:24}},2146:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(67),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(146),_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_lib_i18n__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33);_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.init();var DeclineDialog=function DeclineDialog(_ref){var onClose=_ref.onClose,onButtonClick=_ref.onButtonClick,props=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.a)(_ref,["onClose","onButtonClick"]),theme=Object(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.useTheme)(),_useState=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(!0),_useState2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState,2),dialogOpen=_useState2[0],setDialogOpen=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.Modal,Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({isOpen:dialogOpen,closeOnEsc:!1,closeOnOutsideClick:!1,onClose:function onCloseCheck(e,action){console.log("MODAL CLOSE ",e,action),onClose(e,action),e.preventDefault()},scrollBehavior:"inside",theme:theme,size:"566px"},props),{},{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.ModalContent,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.ModalHeader,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"h5",color:theme.colors.baseError,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.__("declineTitle")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.ModalBody,{ml:55,mr:55,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"body",as:"p",textAlign:"center",children:_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.__("declineText")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_modal__WEBPACK_IMPORTED_MODULE_5__.ModalFooter,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{textAlign:"center",width:1,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{variation:"outline",colorStyle:"error",onClick:function onClick(e){setDialogOpen(!1),onButtonClick(e,"cancel"),e.preventDefault()},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.__("cancelButton")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{ml:20,onClick:function onClick(e){setDialogOpen(!1),onButtonClick(e,"decline"),e.preventDefault()},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_7__.a.__("declineButton")})]})})]})}))})};DeclineDialog.__docgenInfo={description:"",methods:[],displayName:"DeclineDialog"},__webpack_exports__.a=DeclineDialog,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DeclineDialog.js"]={name:"DeclineDialog",docgenInfo:DeclineDialog.__docgenInfo,path:"src/components/DeclineDialog.js"})},2147:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ForwardRef}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var _ref2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95 37.5L47.6547 0L0 37.5V105H95V37.5Z",fill:"#00847A"}),_ref3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{y:71.25,width:95,height:33.75,fill:"#00847A"}),_ref4=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:18.5065,y:9.25,width:57.366,height:61.5,rx:4.5,fill:"#F5F8F7",stroke:"#C3C2C2"}),_ref5=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:25.4575,y:18.75,width:43.4641,height:2.5,rx:1.25,fill:"#C3C2C2"}),_ref6=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:25.4575,y:37.5,width:43.4641,height:2.5,rx:1.25,fill:"#C3C2C2"}),_ref7=react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{x:25.9575,y:24.875,width:42.4641,height:9,rx:4.5,stroke:"#C3C2C2"}),_ref8=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M54.0196 71.1401L95 37.5V105L54.0196 71.1401Z",fill:"#1CAA9F"}),_ref9=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M40.9804 71.3599L0 105L0 37.5L40.9804 71.3599Z",fill:"#1CAA9F"}),_ref10=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M31.0458 26.875L31.6034 28.6025H33.4079L31.948 29.6701L32.5056 31.3975L31.0458 30.3299L29.5859 31.3975L30.1435 29.6701L28.6837 28.6025H30.4881L31.0458 26.875Z",fill:"#1E1D1D"}),_ref11=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M39.1176 26.875L39.6753 28.6025H41.4797L40.0199 29.6701L40.5775 31.3975L39.1176 30.3299L37.6578 31.3975L38.2154 29.6701L36.7555 28.6025H38.56L39.1176 26.875Z",fill:"#1E1D1D"}),_ref12=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M47.1895 26.875L47.7472 28.6025H49.5516L48.0918 29.6701L48.6494 31.3975L47.1895 30.3299L45.7297 31.3975L46.2873 29.6701L44.8274 28.6025H46.6319L47.1895 26.875Z",fill:"#1E1D1D"}),_ref13=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M55.2614 26.875L55.8191 28.6025H57.6235L56.1637 29.6701L56.7213 31.3975L55.2614 30.3299L53.8016 31.3975L54.3592 29.6701L52.8993 28.6025H54.7038L55.2614 26.875Z",fill:"#1E1D1D"}),_ref14=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M63.3333 26.875L63.891 28.6025H65.6954L64.2356 29.6701L64.7932 31.3975L63.3333 30.3299L61.8735 31.3975L62.4311 29.6701L60.9712 28.6025H62.7757L63.3333 26.875Z",fill:"#1E1D1D"});function SvgEmailEnvelope(_ref,svgRef){var title=_ref.title,titleId=_ref.titleId,props=_objectWithoutProperties(_ref,["title","titleId"]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:95,height:105,viewBox:"0 0 95 105",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:svgRef,"aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8,_ref9,_ref10,_ref11,_ref12,_ref13,_ref14)}var ForwardRef=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(SvgEmailEnvelope);__webpack_require__.p},881:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(97),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(551),_components_DeclineDialog__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2146),styled_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(26),_lib_contextLib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(165),_lib_i18n__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(33);function _templateObject(){var data=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__.a)(["\n  scrollbar-width: 4px;\n  scrollbar-color: ","\n    ",";\n\n  overflow-y: scroll;\n  ::-webkit-scrollbar {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-scrollbar:vertical {\n    width: 4px;\n    height: 77px;\n  }\n\n  ::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background-color: ",";\n  }\n\n  ::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    height: 77px;\n    background-color: ",";\n  }\n  ::-webkit-scrollbar-thumb:vertical {\n    height: 77px;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.init();var StyledBox=Object(styled_components__WEBPACK_IMPORTED_MODULE_7__.default)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Box)(_templateObject(),(function(props){return props.colors?props.colors.baseSecondary:"#00847A"}),(function(props){return props.colors?props.colors.baseTertiary:"rgba(0, 132, 122, 0.1)"}),(function(props){return props.colors?props.colors.baseTertiary:"rgba(0, 132, 122, 0.1)"}),(function(props){return props.colors?props.colors.baseSecondary:"#00847A"})),texts=[{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("agreeementTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("agreementText")},{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("serviceTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("serviceText")},{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("accountsTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("accountsText")},{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("dataTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("dataText")},{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("materialsTitle"),text:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("materialsText")}],TermsOfUse=function TermsOfUse(props){console.log("Terms ",props);var nextStepAction=Object(_lib_contextLib__WEBPACK_IMPORTED_MODULE_8__.c)().nextStepAction,colors=Object(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.useTheme)().colors,_useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),_useState2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),scrolled=_useState2[0],setScrolled=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),_useState4=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),decline=_useState4[0],setDecline=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment,{children:[decline&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_DeclineDialog__WEBPACK_IMPORTED_MODULE_6__.a,{onClose:function onDialogClose(e,action){setDecline(!1),e.preventDefault()},onButtonClick:function onDialogClick(e,action){setDecline(!1),"decline"===action&&nextStepAction(0),e.preventDefault()}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_5__.a,{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("termsTitle"),progress:66,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Box,{textAlign:"center",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Text,{textStyle:"caption",bold:!0,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("termsLastUpdated")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Box,{mt:22,height:313,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledBox,{height:"100%",colors:colors,onScroll:function _handleScroll(e){e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight&&setScrolled(!0)},children:texts.map((function(t,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Text,{textStyle:"caption",bold:!0,children:t.title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Text,{as:"p",textStyle:"caption",children:t.text})]},"text-"+i)}))})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Box,{mt:63,display:"inline-flex",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Flex,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Button,{variation:"outline",colorStyle:"error",onClick:function declineTerms(e){setDecline(!0),e.preventDefault()},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("declineButton")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Flex,{ml:99,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_4__.Button,{disabled:!scrolled,onClick:function approveTerms(e){nextStepAction(2)},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_9__.a.__("approveButton")})})]})})]})]})};TermsOfUse.__docgenInfo={description:"",methods:[],displayName:"TermsOfUse"},__webpack_exports__.default=TermsOfUse,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/TermsOfUse.js"]={name:"TermsOfUse",docgenInfo:TermsOfUse.__docgenInfo,path:"src/pages/TermsOfUse.js"})},882:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(109),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(553),_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7__),_svgr_webpack_svgo_titleProp_ref_assets_email_envelope_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2147),_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(551),_lib_formFields__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(240),_lib_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(188),_lib_componentUtils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(239),aws_amplify__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(110),aws_amplify__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(237),_lib_contextLib__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(165),_graphql_api__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(210),_blend_ui_toast__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(295),_lib_i18n__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(33);_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.init();var EmailVerification=function EmailVerification(_ref){var invalidLink=_ref.invalidLink,_useAccountContext=(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__.a)(_ref,["invalidLink"]),Object(_lib_contextLib__WEBPACK_IMPORTED_MODULE_15__.c)()),nextStepAction=_useAccountContext.nextStepAction,currentUser=_useAccountContext.currentUser,alerts=Object(_blend_ui_toast__WEBPACK_IMPORTED_MODULE_17__.useToast)(),APIConfig=Object(_lib_contextLib__WEBPACK_IMPORTED_MODULE_15__.d)().APIConfig;aws_amplify__WEBPACK_IMPORTED_MODULE_13__.default.configure(APIConfig),console.log("USER ",currentUser);var _useFormFields=Object(_lib_formFields__WEBPACK_IMPORTED_MODULE_10__.a)({verificationCode:""}),_useFormFields2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useFormFields,2),verificationFields=_useFormFields2[0],handleChange=_useFormFields2[1],_useFocus=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_12__.a)(),_useFocus2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useFocus,2),inputCode=_useFocus2[0],_useState=(_useFocus2[1],Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({status:!1,msg:""})),_useState2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState,2),inputError=_useState2[0],setInputError=_useState2[1];Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){Object(_graphql_api__WEBPACK_IMPORTED_MODULE_16__.i)(aws_amplify__WEBPACK_IMPORTED_MODULE_14__.a,"email",JSON.stringify({userId:currentUser.username,clientId:currentUser.client,email:currentUser.email,given_name:currentUser.given_name})).then((function(result){console.log("EMAIL RESULT ",result),alerts.info(_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("emailVerificatioSent"),{duration:1e4})})).catch((function(e){console.log("ERR",e)}))}),[currentUser]);var resendClick=function(){var _ref2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(e){return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,Object(_graphql_api__WEBPACK_IMPORTED_MODULE_16__.i)(aws_amplify__WEBPACK_IMPORTED_MODULE_14__.a,"email",JSON.stringify({userId:currentUser.username,clientId:currentUser.client,email:currentUser.email,given_name:currentUser.given_name}));case 3:alerts.info(_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("emailVerificatioSent"),{}),_context.next=9;break;case 6:_context.prev=6,_context.t0=_context.catch(0),console.log("ERR",_context.t0);case 9:case"end":return _context.stop()}}),_callee,null,[[0,6]])})));return function resendClick(_x){return _ref2.apply(this,arguments)}}(),verifyClick=function(){var _ref3=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(e){var userCode,result;return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,userCode=[currentUser.username,currentUser.client,"email",verificationFields.verificationCode].join("#"),_context2.next=4,Object(_graphql_api__WEBPACK_IMPORTED_MODULE_16__.h)(aws_amplify__WEBPACK_IMPORTED_MODULE_14__.a,userCode);case 4:null===(result=_context2.sent).data.getVerification&&(alerts.error(_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("invalidCode"),{}),setInputError({status:!0})),console.log("VERIFY ",result),nextStepAction(3),_context2.next=16;break;case 10:_context2.prev=10,_context2.t0=_context2.catch(0),console.log("ERR",_context2.t0),alerts.error(_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("invalidCode"),{}),setInputError({status:!0}),nextStepAction(3);case 16:case"end":return _context2.stop()}}),_callee2,null,[[0,10]])})));return function verifyClick(_x2){return _ref3.apply(this,arguments)}}();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_9__.a,{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("verificationTitle"),progress:100,pr:19,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:50,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{display:"inline-flex",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_svgr_webpack_svgo_titleProp_ref_assets_email_envelope_svg__WEBPACK_IMPORTED_MODULE_8__.a,{height:"105px",width:"95px"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{ml:34,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"h6",children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("emailVerificationTitle")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:5,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"caption2",as:"p",m:0,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("emailVerificationText")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:15,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField,{width:"200px",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField.LeftIcon,{iconify:_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7___default.a,color:"componentPrimary",size:"17"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField.InputField,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("codePropmt"),id:"verificationCode",name:"verificationCode",onChange:handleChange,onKeyDown:function onKeyDown(e){"Enter"===e.key&&function checkInput(code){var validCode=!0;if(!Object(_lib_utils__WEBPACK_IMPORTED_MODULE_11__.i)(code)&&code.length>0){var errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("codeDigitsError");alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}),setInputError({status:!0}),validCode=!1}if(code.length>1&&6!==code.length){var _errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("codeLengthError");alerts.check().some((function(alert){return alert.message===_errorMsg}))||alerts.error(_errorMsg,{}),setInputError({status:!0}),validCode=!1}validCode&&setInputError({status:!1})}(verificationFields.verificationCode)},ref:inputCode,error:inputError.status})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:inputError.status?0:3,display:"inline-flex",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Flex,{alignItems:"center",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"caption2",mr:5,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("emailMissing")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{variation:"link",fontSize:"10px",onClick:resendClick,children:[" ",_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("sendAgainLinkText")]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Link,{href:invalidLink,target:"_blank",fontSize:"10px",children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("verifySUpportLink")})})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:80,display:"inline-flex",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Flex,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{variation:"outline",onClick:function backClickAction(e){nextStepAction(0)},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("backButton")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Flex,{ml:99,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{disabled:inputError.status||6!==verificationFields.verificationCode.length,onClick:verifyClick,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("verifyButton")})})]})]})})};EmailVerification.__docgenInfo={description:"",methods:[],displayName:"EmailVerification"},__webpack_exports__.default=EmailVerification,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/EmailVerification.js"]={name:"EmailVerification",docgenInfo:EmailVerification.__docgenInfo,path:"src/pages/EmailVerification.js"})},883:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(109),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(553),_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7__),_svgr_webpack_svgo_titleProp_ref_assets_phone_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2142),_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(551),_lib_formFields__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(240),_lib_utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(188),_lib_componentUtils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(239),aws_amplify__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(110),aws_amplify__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(237),_lib_contextLib__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(165),_graphql_api__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(210),_blend_ui_toast__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(295),_lib_i18n__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(33);_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.init();var PhoneVerification=function PhoneVerification(_ref){var invalidLink=_ref.invalidLink,_useAccountContext=(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__.a)(_ref,["invalidLink"]),Object(_lib_contextLib__WEBPACK_IMPORTED_MODULE_15__.c)()),nextStepAction=_useAccountContext.nextStepAction,currentUser=_useAccountContext.currentUser,alerts=Object(_blend_ui_toast__WEBPACK_IMPORTED_MODULE_17__.useToast)(),APIConfig=Object(_lib_contextLib__WEBPACK_IMPORTED_MODULE_15__.d)().APIConfig;aws_amplify__WEBPACK_IMPORTED_MODULE_13__.default.configure(APIConfig);var _useFormFields=Object(_lib_formFields__WEBPACK_IMPORTED_MODULE_10__.a)({verificationCode:""}),_useFormFields2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useFormFields,2),verificationFields=_useFormFields2[0],handleChange=_useFormFields2[1],_useFocus=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_12__.a)(),_useFocus2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useFocus,2),inputCode=_useFocus2[0],_useState=(_useFocus2[1],Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)({status:!1,msg:""})),_useState2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(_useState,2),inputError=_useState2[0],setInputError=_useState2[1],verifyClick=function(){var _ref2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(e){var userCode,result;return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,userCode=[currentUser.username,currentUser.client,"phone",verificationFields.verificationCode].join("#"),_context.next=4,Object(_graphql_api__WEBPACK_IMPORTED_MODULE_16__.h)(aws_amplify__WEBPACK_IMPORTED_MODULE_14__.a,userCode);case 4:null===(result=_context.sent).data.getVerification&&(alerts.error(_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("invalidCode"),{}),setInputError({status:!0})),console.log("VERIFY ",result),nextStepAction(4),_context.next=16;break;case 10:_context.prev=10,_context.t0=_context.catch(0),console.log("ERR",_context.t0),alerts.error(_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("invalidCode"),{}),setInputError({status:!0}),nextStepAction(4);case 16:case"end":return _context.stop()}}),_callee,null,[[0,10]])})));return function verifyClick(_x){return _ref2.apply(this,arguments)}}(),resendClick=function(){var _ref3=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(e){return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,Object(_graphql_api__WEBPACK_IMPORTED_MODULE_16__.i)(aws_amplify__WEBPACK_IMPORTED_MODULE_14__.a,"phone",JSON.stringify({userId:currentUser.username,clientId:currentUser.client,phone_number:currentUser.phone_number,given_name:currentUser.given_name}));case 3:alerts.info(_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("phoneVerificatioSent"),{}),_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2.catch(0),console.log("ERR",_context2.t0);case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,6]])})));return function resendClick(_x2){return _ref3.apply(this,arguments)}}();Object(react__WEBPACK_IMPORTED_MODULE_5__.useEffect)((function(){Object(_graphql_api__WEBPACK_IMPORTED_MODULE_16__.i)(aws_amplify__WEBPACK_IMPORTED_MODULE_14__.a,"phone",JSON.stringify({userId:currentUser.username,clientId:currentUser.client,phone_number:currentUser.phone_number,given_name:currentUser.given_name})).then((function(result){console.log("PHONE SMS RESULT ",result),alerts.info(_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("phoneVerificatioSent"),{duration:1e4})})).catch((function(e){console.log("ERR",e)}))}),[currentUser]);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_9__.a,{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("verificationTitle"),progress:100,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:47,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{display:"inline-flex",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_svgr_webpack_svgo_titleProp_ref_assets_phone_svg__WEBPACK_IMPORTED_MODULE_8__.a,{height:"135px",width:"68px"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{ml:48,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"h6",children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("phoneVerificationTitle")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:5,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"caption2",as:"p",m:0,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("phoneVerificationText")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:15,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField,{width:"200px",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField.LeftIcon,{iconify:_iconify_icons_bx_bx_key__WEBPACK_IMPORTED_MODULE_7___default.a,color:"componentPrimary",size:"17"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.IconField.InputField,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("codePropmt"),id:"verificationCode",name:"verificationCode",onChange:handleChange,onKeyDown:function onKeyDown(e){"Enter"===e.key&&function checkInput(code){var validCode=!0;if(!Object(_lib_utils__WEBPACK_IMPORTED_MODULE_11__.i)(code)){var errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("codeDigitsError");alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}),setInputError({status:!0}),validCode=!1}if(code.length>1&&6!==code.length){var _errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("codeLengthError");alerts.check().some((function(alert){return alert.message===_errorMsg}))||alerts.error(_errorMsg,{}),setInputError({status:!0}),validCode=!1}validCode&&setInputError({status:!1,msg:""})}(verificationFields.verificationCode)},ref:inputCode,error:inputError.status})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:inputError.status?0:3,display:"inline-flex",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Flex,{alignItems:"center",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Text,{textStyle:"caption2",mr:5,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("codeMissing")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{variation:"link",fontSize:"10px",onClick:resendClick,children:[" ",_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("sendAgainLinkText")]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Link,{href:invalidLink,target:"_blank",fontSize:"10px",children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("verifySUpportLink")})})]})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Box,{mt:84,display:"inline-flex",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Flex,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{variation:"outline",onClick:function backClickAction(e){nextStepAction(0)},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("backButton")})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Flex,{ml:99,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_6__.Button,{disabled:inputError.status||6!==verificationFields.verificationCode.length,onClick:verifyClick,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_18__.a.__("verifyButton")})})]})]})};PhoneVerification.__docgenInfo={description:"",methods:[],displayName:"PhoneVerification"},__webpack_exports__.default=PhoneVerification,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/PhoneVerification.js"]={name:"PhoneVerification",docgenInfo:PhoneVerification.__docgenInfo,path:"src/pages/PhoneVerification.js"})},885:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(296),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(109),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(17),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),_lib_contextLib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(165),_iconify_icons_bx_bx_user__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(554),_iconify_icons_bx_bx_user__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_iconify_icons_bx_bx_user__WEBPACK_IMPORTED_MODULE_9__),_iconify_icons_bx_bx_envelope__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2143),_iconify_icons_bx_bx_envelope__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_iconify_icons_bx_bx_envelope__WEBPACK_IMPORTED_MODULE_10__),_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(551),_components_PasswordField__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(555),_components_PhoneNumberField__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2144),react_router_dom__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2141),_lib_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(188),_lib_componentUtils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(239),_config__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(25),_graphql_api__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(210),aws_amplify__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(110),aws_amplify__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(131),aws_amplify__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(237),uuid__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(711),_lib_i18n__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(33),_TermsOfUse__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(881),_EmailVerification__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(882),_PhoneVerification__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(883),_blend_ui_toast__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(295);_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.init();var CreateAccount=function CreateAccount(props){var history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_14__.a)(),alerts=Object(_blend_ui_toast__WEBPACK_IMPORTED_MODULE_27__.useToast)(),_useAppContext=Object(_lib_contextLib__WEBPACK_IMPORTED_MODULE_8__.d)(),APIConfig=_useAppContext.APIConfig,AUTHConfig=_useAppContext.AUTHConfig;aws_amplify__WEBPACK_IMPORTED_MODULE_19__.default.configure(APIConfig),aws_amplify__WEBPACK_IMPORTED_MODULE_20__.a.configure(AUTHConfig);var uuid=Object(uuid__WEBPACK_IMPORTED_MODULE_22__.a)(),appDebug="true"===Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).REACT_APP_DEBUG&&"?debug=true"===history.location.search;console.log("APP DEBUG ",appDebug);var colors=Object(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.useTheme)().colors,selectOptions=Object(_lib_utils__WEBPACK_IMPORTED_MODULE_15__.c)().map((function(cc){return{key:"+"+cc.countryCode,value:cc.regionName,regionCode:cc.regionCode,searchValue:cc.regionName+" +"+cc.countryCode,component:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Text,{as:"span",children:cc.regionName}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Text,{as:"span",color:colors.textMuted,fontSize:"xs",pl:4,children:["(+",cc.countryCode,")"]})]})}})),initUser={username:uuid,given_name:"",client:AUTHConfig.userPoolWebClientId,email:"",phone_number:""},_useState=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(initUser),_useState2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(0),_useState4=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useState3,2),_useState5=(_useState4[0],_useState4[1],Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(0)),_useState6=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useState5,2),registerStep=_useState6[0],setRegisterStep=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(!0),_useState8=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useState7,2),nextDisabled=_useState8[0],setNextDisabled=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)([!1,!1,!1,!1,!1]),_useState10=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useState9,2),passwordVerification=_useState10[0],setPasswordVerification=_useState10[1],_useReducer=Object(react__WEBPACK_IMPORTED_MODULE_6__.useReducer)((function(state,newState){return Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state),newState)}),{email:{status:!1,msg:"",valid:!1,value:""},phoneNumber:{status:!1,msg:"",valid:!1,value:""},accountPassword:{status:!1,msg:"",valid:!1,value:""},username:{status:!1,msg:"",valid:!1,value:""},lastName:{status:!1,msg:"",valid:!1,value:""},firstName:{status:!1,msg:"",valid:!1,value:""},passwordConfirm:{status:!1,msg:"",valid:!1,value:""},regionCode:"000",termsAccepted:!1,emailVerified:"",phoneVerified:""}),_useReducer2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useReducer,2),state=_useReducer2[0],setState=_useReducer2[1],_useFocus=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_16__.a)(),_useFocus2=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useFocus,2),inputSelect=_useFocus2[0],_useFocus3=(_useFocus2[1],Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_16__.a)()),_useFocus4=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useFocus3,2),inputUsername=_useFocus4[0],setInputUsernameFocus=_useFocus4[1],_useFocus5=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_16__.a)(),_useFocus6=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useFocus5,2),inputEmail=_useFocus6[0],setInputEmailFocus=_useFocus6[1],_useFocus7=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_16__.a)(),_useFocus8=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useFocus7,2),inputPhone=_useFocus8[0],setInputPhoneFocus=_useFocus8[1],_useFocus9=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_16__.a)(),_useFocus10=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useFocus9,2),inputPassword=_useFocus10[0],setInputPasswordFocus=_useFocus10[1],_useFocus11=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_16__.a)(),_useFocus12=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useFocus11,2),inputFirstname=_useFocus12[0],setInputFirstnameFocus=_useFocus12[1],_useFocus13=Object(_lib_componentUtils__WEBPACK_IMPORTED_MODULE_16__.a)(),_useFocus14=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useFocus13,2),inputLastname=_useFocus14[0],setInputLastnameFocus=_useFocus14[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(!1),_useState12=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.a)(_useState11,2),addPopper=_useState12[0],setAddPopper=_useState12[1],checkPhoneAttr=function checkPhoneAttr(region,phone){if(appDebug)return Promise.resolve({});var phoneNumber=Object(_lib_utils__WEBPACK_IMPORTED_MODULE_15__.a)(region,phone);return Object(_graphql_api__WEBPACK_IMPORTED_MODULE_18__.a)(aws_amplify__WEBPACK_IMPORTED_MODULE_21__.a,"phone_number",phoneNumber,_config__WEBPACK_IMPORTED_MODULE_17__.d.cognito.USER_POOL_ID)},phoneAlert=function phoneAlert(errorMsg,phoneState){phoneState||alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}),setState({phoneNumber:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.phoneNumber),{},{status:!phoneState})})},checkPhone=function(){var _ref=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(region,phone){var onBlur,errorMsg,checkResult,phoneState,_args=arguments;return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(onBlur=_args.length>2&&void 0!==_args[2]&&_args[2],console.log(phone,region),errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("invalidPhoneNumber"),!Object(_lib_utils__WEBPACK_IMPORTED_MODULE_15__.h)(phone.toLowerCase())){_context.next=6;break}return phoneAlert(errorMsg,!1),_context.abrupt("return",!1);case 6:return checkResult=Object(_lib_utils__WEBPACK_IMPORTED_MODULE_15__.g)(region+phone),phoneState=Object.keys(checkResult).length>0,console.log("PHONE ",checkResult),phoneState&&onBlur?(console.log("CHECKING PHONE NUMBER"),checkPhoneAttr(region,phone).then((function(res){void 0!==res.data&&res.data.checkCognitoAttribute?phoneAlert(errorMsg,!1):setState({phoneNumber:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.phoneNumber),{},{status:!1})})}))):phoneAlert(errorMsg,phoneState),_context.abrupt("return",!phoneState);case 11:case"end":return _context.stop()}}),_callee)})));return function checkPhone(_x,_x2){return _ref.apply(this,arguments)}}(),checkEmailAttr=function checkEmailAttr(email){return Object(_graphql_api__WEBPACK_IMPORTED_MODULE_18__.a)(aws_amplify__WEBPACK_IMPORTED_MODULE_21__.a,"email",email,_config__WEBPACK_IMPORTED_MODULE_17__.d.cognito.USER_POOL_ID)},emailAlert=function emailAlert(errorMsg,emailState){emailState||alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}),setState({email:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.email),{},{status:!emailState})})},checkEmail=function checkEmail(email){var onBlur=arguments.length>1&&void 0!==arguments[1]&&arguments[1],emailState=Object(_lib_utils__WEBPACK_IMPORTED_MODULE_15__.k)(email);console.log("EMAIL ",emailState);var errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("invalidEmail");return emailState&&onBlur?(console.log("CHECKING EMAIL"),checkEmailAttr(email).then((function(res){console.log("EMAIL ATTR CHECK ",res),void 0!==res.data&&res.data.checkCognitoAttribute?emailAlert(errorMsg,!1):setState({email:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.email),{},{status:!1})})}))):emailAlert(errorMsg,emailState),onBlur?emailState:!emailState},userNameAlert=function userNameAlert(userError,userMsg){userError&&!alerts.check().some((function(alert){return alert.message===userMsg}))&&alerts.error(userMsg,{}),setState({username:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.username),{},{status:userError})})},checkUsername=function checkUsername(username){var onBlur=arguments.length>1&&void 0!==arguments[1]&&arguments[1],userState=Object(_lib_utils__WEBPACK_IMPORTED_MODULE_15__.l)(username,_config__WEBPACK_IMPORTED_MODULE_17__.d.usernameLength),userError=""!==userState,userMsg="";return"LENGTH"===userState&&(userMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("usernameError",{length:_config__WEBPACK_IMPORTED_MODULE_17__.d.usernameLength})),"SPACES"===userState&&(userMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("usernameError2")),console.log("USER ",username,userError),!userError&&onBlur?(console.log("CHECKING USER"),Object(_graphql_api__WEBPACK_IMPORTED_MODULE_18__.b)(aws_amplify__WEBPACK_IMPORTED_MODULE_21__.a,username).then((function(res){void 0!==res.data&&res.data.checkUsername?userNameAlert(!0,_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("usernameExists")):setState({username:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.username),{},{status:!1})})}))):userNameAlert(userError,userMsg),userError},isPasswordPossible=function isPasswordPossible(){var errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("invalidEntry");if(0===state.firstName.value.length)setState({firstName:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.firstName),{},{status:!0})}),setInputFirstnameFocus();else if(0===state.lastName.value.length)setState({lastName:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.lastName),{},{status:!0})}),setInputLastnameFocus();else if(0===state.username.value.length)setState({username:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.username),{},{status:!0})}),setInputUsernameFocus();else if(0===state.email.value.length)setState({email:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.email),{},{status:!0})}),setInputEmailFocus();else if(state.username.status)setInputUsernameFocus();else if(state.email.status)setInputEmailFocus();else if(state.firstName.status)setInputFirstnameFocus();else if(state.lastName.status)setInputLastnameFocus();else{if(!state.phoneNumber.status)return!0;setInputPhoneFocus()}return alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}),!1},checkConfirmPassword=function checkConfirmPassword(password){var onBlur=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("Confirm ",password,state);var confirmStatus=state.accountPassword.value===password;console.log(confirmStatus,state.accountPassword,password);var checkResult=!1,errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("invalidPassword");return!confirmStatus&&password.length>=_config__WEBPACK_IMPORTED_MODULE_17__.d.passwordLength||!confirmStatus&&!onBlur&&!nextDisabled?(setState({accountPassword:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.accountPassword),{},{status:!0}),passwordConfirm:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.passwordConfirm),{},{status:!0})}),setNextDisabled(!0),alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}),checkResult=!0):confirmStatus&&(setState({accountPassword:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.accountPassword),{},{status:!1}),passwordConfirm:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.passwordConfirm),{},{status:!1})}),setNextDisabled(!1)),!confirmStatus&&onBlur&&setInputPasswordFocus(),checkResult},checkInputPassword=function checkInputPassword(password){var checkResult=Object(_lib_utils__WEBPACK_IMPORTED_MODULE_15__.b)(password,_config__WEBPACK_IMPORTED_MODULE_17__.d.passwordLength,[state.firstName.value,state.lastName.value,state.username.value,state.email.value]);return console.log("PASS CHECK ",checkResult),setPasswordVerification(checkResult),checkResult},checkPasswordQuality=function checkPasswordQuality(verifications){return console.log("Checking password quality... ",passwordVerification,verifications),(verifications||passwordVerification).some((function(v,i){return console.log("STEP ",v,i),!1===v}))};Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){function _onLoad(){return(_onLoad=Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(){var userCountry,cIndex;return _Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,Object(_graphql_api__WEBPACK_IMPORTED_MODULE_18__.c)(aws_amplify__WEBPACK_IMPORTED_MODULE_21__.a);case 3:userCountry=_context2.sent,console.log("COUNTRY ",userCountry.data.getCountryCode),userCountry.data&&(cIndex=selectOptions.findIndex((function(c){return c.regionCode===userCountry.data.getCountryCode})),console.log("INDEX ",cIndex),cIndex>-1&&setState({regionCode:selectOptions[cIndex].key})),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2.catch(0),console.log("ERR ",_context2.t0);case 11:case"end":return _context2.stop()}}),_callee2,null,[[0,8]])})))).apply(this,arguments)}!function onLoad(){return _onLoad.apply(this,arguments)}()}),[]);var handleChange=function handleChange(event){if(console.log(event.target.id,document.activeElement.id),event.target)if(console.log("HANDLE CHANGE ",event.target.id,event.target.value,document.activeElement.id,document.activeElement.value),"phoneNumber"!==event.target.id||"accountPassword"!==document.activeElement.id&&"passwordConfirm"!==document.activeElement.id){var id=event.target.id,fld=Object.assign({},state[id]);fld.value=event.target.value,fld.valid=!1,["firstName","lastName"].indexOf(id)>-1&&(fld.status=0===event.target.value.length),console.log("CHANGE ID ",id,fld),setState(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},id,fld))}else;},passwordCheck=function passwordCheck(password){var passwordCheckResult=checkInputPassword(password);if(checkPasswordQuality(passwordCheckResult)){var errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("passwordQuality");return alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{}),!1}return!0},accountContext={nextStepAction:function nextStepAction(step){if(console.log("ACTION STEP ",step),4===step){console.log("CURRENT USER ",currentUser);var _currentUser=Object.assign({},state);_currentUser.phoneVerified=currentUser.phone_number,_currentUser.emailVerified=currentUser.email,_currentUser.termsAccepted=!0,_currentUser.uuid=currentUser.username,_currentUser.client=currentUser.client,props.finalStep(_currentUser)}else 2===step?(setState({termsAccepted:!0}),setRegisterStep(step)):3===step?(setState({emailVerified:currentUser.email}),setRegisterStep(step)):0===step&&(alerts.info(_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("acceptTerms"),{}),setRegisterStep(step))},currentUser:currentUser,state:state};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_lib_contextLib__WEBPACK_IMPORTED_MODULE_8__.a.Provider,{value:accountContext,children:[3===registerStep&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:80,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_PhoneVerification__WEBPACK_IMPORTED_MODULE_26__.default,{invalidLink:_config__WEBPACK_IMPORTED_MODULE_17__.d.invalidVerificationLink})}),2===registerStep&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:80,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_EmailVerification__WEBPACK_IMPORTED_MODULE_25__.default,{invalidLink:_config__WEBPACK_IMPORTED_MODULE_17__.d.invalidVerificationLink})}),1===registerStep&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_TermsOfUse__WEBPACK_IMPORTED_MODULE_24__.default,{}),0===registerStep&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_components_ProgressContainer__WEBPACK_IMPORTED_MODULE_11__.a,{title:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("createAccountTitle"),progress:33,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:40,display:"inline-flex",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Flex,{width:"168px",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Input,{autoFocus:!0,placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("firstNamePlaceholder"),id:"firstName",name:"firstName",onChange:handleChange,ref:inputFirstname,error:state.firstName.status,defaultValue:state.firstName.value})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Flex,{ml:25,width:"168px",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Input,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("lastNamePlaceholder"),id:"lastName",name:"lastName",onChange:handleChange,ref:inputLastname,error:state.lastName.status,defaultValue:state.lastName.value})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:28,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconField,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconField.LeftIcon,{iconify:_iconify_icons_bx_bx_user__WEBPACK_IMPORTED_MODULE_9___default.a,color:"componentPrimary",size:"17"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconField.InputField,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("usernamePlaceholder"),id:"username",name:"username",onChange:handleChange,onBlur:function onBlur(e){return checkUsername(e.target.value,!0)},error:state.username.status,ref:inputUsername,defaultValue:state.username.value,onKeyDown:function onKeyDown(e){"Enter"===e.key&&checkUsername(e.target.value,!0)}})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:28,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconField,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconField.LeftIcon,{iconify:_iconify_icons_bx_bx_envelope__WEBPACK_IMPORTED_MODULE_10___default.a,color:"componentPrimary",size:"17"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.IconField.InputField,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("emailPlaceholder"),id:"email",name:"email",onChange:handleChange,promptMsg:state.email.valid?_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("emailPrompt"):"",error:state.email.status,ref:inputEmail,onBlur:function onBlur(e){return checkEmail(e.target.value,!0)},defaultValue:state.email.value,onKeyDown:function onKeyDown(e){"Enter"===e.key&&checkEmail(e.target.value,!0)}})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:28,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_components_PhoneNumberField__WEBPACK_IMPORTED_MODULE_13__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_PhoneNumberField__WEBPACK_IMPORTED_MODULE_13__.a.RegionField,{defaultValue:state.regionCode,options:selectOptions,searchLength:2,showList:!1,ref:inputSelect,onChange:function onChange(e,code){console.log("REGION SELECT ",e,code),handleChange({target:{id:"regionCode",value:code}})}},state.regionCode),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_PhoneNumberField__WEBPACK_IMPORTED_MODULE_13__.a.InputField,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("phoneNumberPlaceholder"),id:"phoneNumber",name:"phoneNumber",onChange:handleChange,promptMsg:state.phoneNumber.valid?_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("phonePrompt"):"",error:state.phoneNumber.status,ref:inputPhone,defaultValue:state.phoneNumber.value,onBlur:function onBlur(e){("phoneNumber"!==e.target.id||"accountPassword"!==document.activeElement.id&&"passwordConfirm"!==document.activeElement.id)&&checkPhone(state.regionCode,e.target.value,!0)},onKeyDown:function onKeyDown(e){"Enter"===e.key&&checkPhone(state.regionCode,e.target.value,!0)}})]})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:28,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_PasswordField__WEBPACK_IMPORTED_MODULE_12__.a,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("passwordPlaceholder"),onFocus:function onFocus(e){!isPasswordPossible()||state.accountPassword.valid&&0!==state.accountPassword.value.length||setAddPopper(!0)},addPopper:addPopper,verifications:passwordVerification,id:"accountPassword",name:"accountPassword",onChange:function onChange(e){handleChange(e),checkInputPassword(e.target.value),state.phoneNumber.value!==document.getElementById("phoneNumber").value&&(document.getElementById("phoneNumber").value=state.phoneNumber.value)},ref:inputPassword,defaultValue:state.accountPassword.value,error:state.accountPassword.status,onBlur:function onBlur(e){passwordCheck(e.target.value)?setAddPopper(!1):(console.log("PREVENT BLUR:...."),setInputPasswordFocus(),e.preventDefault())},onKeyDown:function onKeyDown(e){"Enter"===e.key&&passwordCheck(e.target.value)&&setAddPopper(!1)},autoComplete:"new-password"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:28,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_PasswordField__WEBPACK_IMPORTED_MODULE_12__.a,{placeholder:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("confirmPlaceholder"),onFocus:function onFocus(e){0===state.accountPassword.value.length&&(setInputPasswordFocus(),e.preventDefault(),e.stopPropagation())},id:"passwordConfirm",name:"passwordConfirm",defaultValue:state.passwordConfirm.value,onChange:function onChange(e){handleChange(e),checkConfirmPassword(e.target.value,!1)},error:state.accountPassword.status||state.passwordConfirm.status,onKeyDown:function onKeyDown(e){if("Enter"===e.key){var cPassword=e.target.value,confirmStatus=state.accountPassword.value===cPassword;if(!confirmStatus&&cPassword.length>=_config__WEBPACK_IMPORTED_MODULE_17__.d.passwordLength||!confirmStatus&&!nextDisabled){var errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("invalidPassword");setNextDisabled(!0),alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{})}else setNextDisabled(!1)}},autoComplete:"new-password"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:66,textAlign:"center",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Button,{disabled:nextDisabled,onClick:function onClick(e){Promise.all(function nextButtonClick(e){var valuesChecked=!0,emailChecked=!1,phoneChecked=!1,usernameChecked=!1;if(isPasswordPossible())if(checkConfirmPassword(state.passwordConfirm.value,!1))valuesChecked=!1;else{console.log("PASSWORD CHECKS ");var passwordCheckResult=checkInputPassword(state.accountPassword.value,!1);if(checkPasswordQuality(passwordCheckResult)){valuesChecked=!1;var errorMsg=_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("passwordQuality");alerts.check().some((function(alert){return alert.message===errorMsg}))||alerts.error(errorMsg,{})}}else valuesChecked=!1;valuesChecked&&(checkUsername(state.username.value)?valuesChecked=!1:usernameChecked=!0,checkEmail(state.email.value)?valuesChecked=!1:emailChecked=!0,checkPhone(state.regionCode,state.phoneNumber.value)?phoneChecked=!0:valuesChecked=!1);var promises=[];return promises[0]=Promise.resolve(valuesChecked),usernameChecked?promises.push(Object(_graphql_api__WEBPACK_IMPORTED_MODULE_18__.b)(aws_amplify__WEBPACK_IMPORTED_MODULE_21__.a,state.username.value)):promises.push(Promise.resolve({})),emailChecked?promises.push(checkEmailAttr(state.email.value)):promises.push(Promise.resolve({})),phoneChecked?promises.push(checkPhoneAttr(state.regionCode,state.phoneNumber.value)):promises.push(Promise.resolve({})),promises}()).then((function(res){console.log("PROMISE ",res);var checkResult=!0;if(void 0!==res[1].data&&res[1].data.checkUsername?(userNameAlert(!0,_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("usernameExists")),checkResult=!1):setState({username:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.username),{},{status:!1})}),void 0!==res[2].data&&res[2].data.checkCognitoAttribute?(emailAlert(_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("invalidEmail"),!1),checkResult=!1):setState({email:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.email),{},{status:!1})}),void 0!==res[3].data&&res[3].data.checkCognitoAttribute?(phoneAlert(_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("invalidPhoneNumber"),!1),checkResult=!1):setState({phoneNumber:Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_Users_Tero_react_projects_local_development_prifina_development_prifina_releases_app_desktop_alpha_2021_04_04_18_24_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},state.phoneNumber),{},{status:!1})}),checkResult&&!res[0]&&(checkResult=!1),checkResult){console.log("NEXT....",currentUser);var phoneNumber=Object(_lib_utils__WEBPACK_IMPORTED_MODULE_15__.a)(state.regionCode,state.phoneNumber.value),_currentUser=Object.assign({},currentUser);_currentUser.given_name=state.firstName.value;var emailVerified=""!==state.emailVerified,phoneVerified=""!==state.phoneVerified;_currentUser.email!==state.email.value&&(_currentUser.email=state.email.value,emailVerified=!1),_currentUser.phone_number!==phoneNumber&&(_currentUser.phone_number=phoneNumber,phoneVerified=!1),console.log("NEXT CURRENT USER ",_currentUser),setCurrentUser(_currentUser),state.termsAccepted?(state.emailVerified===_currentUser.email&&emailVerified||setRegisterStep(2),state.phoneVerified===_currentUser.phone_number&&phoneVerified||setRegisterStep(3),""!==state.emailVerified&&""!==state.phoneVerified&&setRegisterStep(4)):setRegisterStep(1)}}))},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("nextButton")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{mt:10,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Box,{display:"inline-flex",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Flex,{alignItems:"center",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Text,{textStyle:"caption2",mr:5,children:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("existingAccount")}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_blend_ui_core__WEBPACK_IMPORTED_MODULE_7__.Button,{variation:"link",fontSize:"10px",lineHeight:"normal",onClick:function loginLink(e){history.replace("/login"),e.preventDefault()},children:_lib_i18n__WEBPACK_IMPORTED_MODULE_23__.a.__("loginLink")})]})})})]})]})]})};CreateAccount.__docgenInfo={description:"",methods:[],displayName:"CreateAccount"},__webpack_exports__.default=CreateAccount,"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/CreateAccount.js"]={name:"CreateAccount",docgenInfo:CreateAccount.__docgenInfo,path:"src/pages/CreateAccount.js"})}}]);
//# sourceMappingURL=0.671f35295497b2c32e3d.bundle.js.map